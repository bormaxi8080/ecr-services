<?xml version="1.0"?>
<configuration>
	<configSections>
		<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net, Version=1.2.10.0, Culture=neutral, PublicKeyToken=1b44e1d426115821"/>
		<section name="execute" type="ECR.ProcessingManager.ExecuteActionsConfigSection, ECR.ProcessingManager"/>
	</configSections>
	<appSettings>
		<add key="ECR.ProcessingManager.ApplicationDebugMode" value="false"/>
		<add key="ECR.ProcessingManager.PathErrors" value="\\web-fileserver\Resource.Shared.Content.Errors\"/>
		<add key="ECR.ProcessingManager.PathDebug" value=""/>
		<add key="ECR&gt;ProcessingManager.PathGlobals" value="C:\temp\global\"/>
		<add key="ECR_Config.Database.Connection.ConnectionString" value="Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=ECR_Config;Data Source=EBK-SQL\sql2008;Connection Timeout=3600"/>
		<add key="ECR_Config.BaseServerName" value="ebk-sql\sql2008"/>
		<add key="ECR_Config.ConnectionTimeout" value="600"/>
		<add key="ECR_Config.CommandTimeout" value="600"/>
		<add key="ImgX.Register.UserName" value="Corvus"/>
		<add key="ImgX.Register.RegCode" value="ImgX6-FDLYQMEL-BJBZDGPC-ONOAAXRT-JHQXQNUW"/>
		<add key="ImgX.LZW_Unlock_Code" value="34F28E21-C11B-B5C4-173f-23EA55908D31"/>
		<add key="ImgX.JpegQuality" value="100"/>
		<add key="ECR.TextProcessor.UnexpectedChars" value="1,2,3,4,5,6,7,8,9,11,12,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,94,95,96,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,149,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,169,170,172,173,174,175,177,178,179,180,181,182,183,186,188,189,190,191"/>
		<add key="ECR.TextProcessor.LiteralSet" value="65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,&#xA;			 81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,&#xA;			 116,117,118,119,120,121,122,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,&#xA;			 211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,&#xA;			 237,238,239,240,241,242,243,244,245,246,247,248,259,250,251,252,253,254,255"/>
		<add key="ECR.TextProcessor.UnexpectedSet" value=",, :: ;; == %% (( )) \\ -- [[ ]] ,. ,: ,= ,% ,( ,) ,&gt; ,/ ,\ ,[ ,] .= .% .&amp; .( .&gt; ./ .\ .[ .] &amp;&amp; &lt;&lt; &gt;&gt; ,&amp; :. :, :; :- := :% :&amp; :( :) :&gt; :\ :[ :] ;: ;. ;, ;- ;= ;% ;% ;( ;) ;&gt; ;/ ;\ ;[ ;] -. -: -; -= -% -&amp; -( -) -&lt; -&gt; -/ -\ -[ -] =. =, =: =; =- =% =&amp; =( =) =&lt; =&gt; =/ =\ =[ =] %- %= %&amp; %( %&lt; %&gt; %/ %\ %[ %] &amp;. &amp;, &amp;: &amp;; &amp;- &amp;= &amp;% &amp;( &amp;) &amp;&lt; &amp;&gt; &amp;/ &amp;\ &amp;[ &amp;] (. (, (: (- (= (% (&amp; () (&lt; (&gt; (/ (\ ([ (] )- )= )% )&amp; )( )&gt; )/ )\ )[ )] &lt;. &lt;, &lt;: &lt;; &lt;- &lt;= &lt;% &lt;&amp; &lt;) &lt;( &lt;&gt; &lt;\ &lt;[ &lt;] &gt;: &gt;; &gt;= &gt;% &gt;&amp; &gt;) &gt;( &gt;/ &gt;\ &gt;[ &gt;] /. /, /: /; /- /= /% /&amp; /) /( /&lt; /&gt; /\ /[ /] \. \, \: \; \- \= \% \&amp; \) \( \&lt; \&gt; \/ \[ \] [, [. [: [; [= [% [&amp; [( [) [&lt; [&gt; [/ [\ [- :] ]; ]= ]% ]&amp; ]( ]) ]&lt; ]&gt; ]/ ]\ ]-"/>
		<add key="ECR.TextProcessor.StartCheckDefinition" value="^([&quot;*\-A-ZА-ЩЭ-Я0-9].*|(\.\.\.).*)"/>
		<add key="ECR.TextProcessor.EndCheckDefinition" value="(.*)((\.(.{1})\.)|([^\.\!\?]\.)|:|;|!|\?|(!\.\.)|\?\.\.|&quot;)$"/>
		<add key="ECR.TextProcessor.ExcludedLiteralSet" value="ООО,ООО МММ,ЗППП,длинношеее,IEEE,www,WWW,EEE PC,III,XXX"/>
		<add key="ECR.TextProcessor.EscapeParagraphs" value="true"/>
		<add key="ECR.TextProcessor.EscapeBreakLine" value="false"/>
		<add key="ECR.TextProcessor.EscapeHtmlTags" value="false"/>
	</appSettings>
	<execute>
		<actions>
			<add key="{38FA14A9-AA10-4B6E-9A98-50469DB91DC0}" enabled="true" overwrite="true" itemType="Books.Covers.Face" containerId="1" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Covers\3\Face\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Обложки книг - лицевая сторона"/>
			<!--
			<add key="{5EF76300-8B4A-426E-AFBB-3F86DB946C39}" enabled="true" overwrite="true" itemType="Books.Covers.Stuff" containerId="2" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Covers\3\Stuff\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Обложки книг - задняя сторона" />
			-->
			<add key="{B2C71F9D-D14E-4367-A82F-DDAE945E3F84}" enabled="true" overwrite="true" itemType="Books.Annots" containerId="3" containerType="ctTextDefault" source="D:\exec\Services\CFMGate\processing\Input\Books_Annots\3\" mask="[tk.key].txt" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Аннотации книг"/>
			<!--
			<add key="{D2697870-B5F1-42A5-A5A7-3ABF62F8D43A}" enabled="true" overwrite="true" itemType="Books.Roots" containerId="4" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Roots\3\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Корешки книг" />
			-->
			<add key="{6D5E6DEA-583D-49DF-B540-54CEB38738C8}" enabled="true" overwrite="true" itemType="Books.Illustrations" containerId="5" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Illustrations\3\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Иллюстрации к книгам"/>
			<add key="{D7463E36-B19F-45FB-AF13-A5E9EB543EA4}" enabled="true" overwrite="true" itemType="Books.Contents.Graphics" containerId="6" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Contents\3\Graphics\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Оглавления книг - графический формат"/>
			<add key="{F08779EB-694D-4AAE-8432-8194CA603530}" enabled="true" overwrite="true" itemType="PCards.Face" containerId="13" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\PCards_Face\2\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Изображения открыток - лицевая часть"/>
			<add key="{5E310A25-0AE4-4108-B1F7-12DDD28A285A}" enabled="true" overwrite="true" itemType="Books.Centerfolds" containerId="8" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Centerfolds\3\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Внутренние страницы книг (развороты)"/>
			<add key="{B0FB1F19-D4F5-4B6F-A195-82C08CD9A435}" enabled="true" overwrite="true" itemType="Books.Bibliography" containerId="9" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Books_Bibliography\3\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Форзацы книг (библиография)"/>
			<add key="{A8900970-DD01-4536-AE78-BCB4098DDBAC}" enabled="true" overwrite="false" itemType="Persons" containerId="10" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Persons\2\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Фотографии персон"/>
			<add key="{1A1D5C2C-4BB8-4A53-87E1-694FC03A5B6D}" enabled="true" overwrite="true" itemType="Organizations" containerId="11" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Organizations\2\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Логотипы организаций"/>
			<add key="{A5D1A587-032B-40C1-8F55-F70A83B5F5D0}" enabled="true" overwrite="true" itemType="Series" containerId="12" containerType="ctGraphical" source="D:\exec\Services\CFMGate\processing\Input\Series\2\" mask="[tk.key].jpg" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="true" saveOriginals="true" propertiesCheck="true" description="Логотипы серий"/>
			<add key="{162E7406-7F9E-4D8D-AA1B-63255F70B946}" enabled="true" overwrite="true" itemType="Books.Contents.Text" containerId="7" containerType="ctTextDefault" source="D:\exec\Services\CFMGate\processing\Input\Books_Contents\3\Text\" mask="[tk.key].txt" backupTo="\\web-fileserver\Resourse.Shared.Content.Changes\" defaultProcessing="false" saveOriginals="true" propertiesCheck="false" description="Оглавления книг - текстовый формат"/>
		</actions>
		<!--
		<containers></containers>
		<containerRules></containerRules>
		<graphicalRules></graphicalRules>
		<textRules></textRules>
		-->
	</execute>
	<log4net>
		<appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
			<layout type="log4net.Layout.PatternLayout">
				<param name="ConversionPattern" value="[%d{yyyy.MM.dd HH:mm:ss}] %m%n"/>
			</layout>
		</appender>
		<appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
			<mapping>
				<level value="ERROR"/>
				<foreColor value="Red, HighIntensity"/>
			</mapping>
			<mapping>
				<level value="WARN"/>
				<foreColor value="Yellow, HighIntensity"/>
			</mapping>
			<mapping>
				<level value="INFO"/>
				<foreColor value="White"/>
			</mapping>
			<mapping>
				<level value="DEBUG"/>
				<foreColor value="Yellow, HighIntensity"/>
			</mapping>
			<layout type="log4net.Layout.PatternLayout">
				<param name="ConversionPattern" value="[%d{yyyy.MM.dd HH:mm:ss}] %m%n"/>
			</layout>
		</appender>
		<appender name="EventLogAppender" type="log4net.Appender.EventLogAppender">
			<param name="ApplicationName" value="ECR.ProcessingManager"/>
			<layout type="log4net.Layout.PatternLayout">
				<param name="ConversionPattern" value="[%d{yyyy.MM.dd HH:mm:ss.fff}]%n[%t] %a %M %c [%x] - %m%n"/>
			</layout>
			<filter type="log4net.Filter.LevelRangeFilter">
				<param name="LevelMin" value="ERROR"/>
				<param name="LevelMax" value="FATAL"/>
			</filter>
		</appender>
		<appender name="ADONetAppender" type="log4net.Appender.AdoNetAppender">
			<bufferSize value="1"/>
			<connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
			<connectionString value="Data Source=ebk-bookean-rsv\sql2008; initial Catalog=Log4Net_LoggingDB;Integrated Security=True;"/>
			<commandText value="INSERT INTO log4Net_log ([Date],[thread],[Level],[Logger],[Message],[Exception],[UserDomain],[HostName],[RemoteIP],[UserName],[OSVersion],[AssemblyInfo],[AssemblyVersion],[AppDomain],[ClassName],[MethodName]) VALUES (@log_date, @thread, @level, @logger, @message, @exception, @UserDomain, @HostName, @RemoteIP, @UserName, @OSVersion, @AssemblyInfo, @AssemblyVersion, @AppDomain, @ClassName, @MethodName)"/>
			<parameter>
				<parameterName value="@log_date"/>
				<dbType value="DateTime"/>
				<layout type="log4net.Layout.RawTimeStampLayout"/>
			</parameter>
			<parameter>
				<parameterName value="@thread"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%thread"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@level"/>
				<dbType value="String"/>
				<size value="50"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%level"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@logger"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%logger"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@message"/>
				<dbType value="String"/>
				<size value="4000"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%message"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@exception"/>
				<dbType value="String"/>
				<size value="4000"/>
				<layout type="log4net.Layout.ExceptionLayout"/>
			</parameter>
			<parameter>
				<parameterName value="@UserDomain"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{UserDomain}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@HostName"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{HostName}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@RemoteIP"/>
				<dbType value="String"/>
				<size value="50"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{RemoteIP}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@UserName"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{UserName}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@OSVersion"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{OSVersion}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@AssemblyInfo"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{AssemblyFullName}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@AssemblyVersion"/>
				<dbType value="String"/>
				<size value="20"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{AssemblyVersion}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@AppDomain"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%a"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@ClassName"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%C"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@MethodName"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%M"/>
				</layout>
			</parameter>
		</appender>
		<appender name="ADONetAppender_Notifications" type="log4net.Appender.AdoNetAppender">
			<bufferSize value="1"/>
			<connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
			<connectionString value="Data Source=ebk-bookean-rsv\sql2008; initial Catalog=Log4Net_LoggingDB;Integrated Security=True;"/>
			<commandText value="INSERT INTO log4net_notifications ([Date],[Level],[Logger],[Message],[Exception]) VALUES (@log_date, @level, @logger, @message, @exception)"/>
			<parameter>
				<parameterName value="@log_date"/>
				<dbType value="DateTime"/>
				<layout type="log4net.Layout.RawTimeStampLayout"/>
			</parameter>
			<parameter>
				<parameterName value="@level"/>
				<dbType value="String"/>
				<size value="50"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%level"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@logger"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%logger"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@message"/>
				<dbType value="String"/>
				<size value="4000"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%message"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@exception"/>
				<dbType value="String"/>
				<size value="4000"/>
				<layout type="log4net.Layout.ExceptionLayout"/>
			</parameter>
		</appender>
		<root>
			<level value="ALL"/>
			<appender-ref ref="ColoredConsoleAppender"/>
			<appender-ref ref="ADONetAppender"/>
			<appender-ref ref="EventLogAppender"/>
		</root>
		<logger name="ECR.ProcesingManager.NotificationsLogger">
			<level value="ALL"/>
			<appender-ref ref="ADONetAppender_Notifications"/>
		</logger>
	</log4net>
	<startup>
	</startup>
</configuration>
